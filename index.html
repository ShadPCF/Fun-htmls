<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>Knock Knock üíñ</title>

<style>
:root{
  --pink:#ff4d88;
  --gold:#ffcc66;
  --bg1:#140b1f;
  --bg2:#2a123f;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;
  background:
    radial-gradient(600px 400px at 30% 10%, rgba(255,77,136,.25), transparent 60%),
    linear-gradient(160deg,var(--bg1),var(--bg2));
  color:white;
}

.card{
  width:92%;
  max-width:420px;
  background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
  border-radius:24px;
  padding:22px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}

.scene{
  min-height:300px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:16px;
}

.comic{
  background:rgba(255,255,255,.18);
  padding:12px 18px;
  border-radius:18px;
  font-weight:900;
  transform:rotate(-2deg);
  animation:pop .3s ease-out;
}

@keyframes pop{
  from{opacity:0;transform:translateY(10px) scale(.95) rotate(-2deg)}
  to{opacity:1;transform:none}
}

.door{
  width:200px;
  height:260px;
  border-radius:22px;
  background:
    linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,.08));
  border:1px solid rgba(255,255,255,.35);
  position:relative;
}

.panel{
  position:absolute;
  inset:16px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.25);
}

.knob{
  width:18px;
  height:18px;
  border-radius:50%;
  background:linear-gradient(180deg,var(--gold),var(--pink));
  position:absolute;
  right:18px;
  top:50%;
}

.shake{
  animation:shake .45s ease-in-out;
}

@keyframes shake{
  0%{transform:none}
  20%{transform:translateX(-6px)}
  40%{transform:translateX(6px)}
  60%{transform:translateX(-4px)}
  80%{transform:translateX(4px)}
  100%{transform:none}
}

.open{
  animation:openDoor .6s ease forwards;
}

@keyframes openDoor{
  to{transform:translateX(-12px) scaleX(.85); opacity:.85}
}

.bouquet{
  font-size:64px;
  animation:float 1.6s ease-in-out infinite;
}

@keyframes float{
  50%{transform:translateY(-10px)}
}

button{
  margin-top:16px;
  padding:14px 18px;
  border-radius:16px;
  border:none;
  background:linear-gradient(135deg,var(--pink),var(--gold));
  font-weight:900;
  color:#2a0620;
  font-size:15px;
}
</style>
</head>

<body>
<div class="card">
  <div id="stage"></div>
  <button id="btn"></button>
</div>

<script>
const stage=document.getElementById("stage")
const btn=document.getElementById("btn")
let step=1

render()

btn.onclick=()=>{
  if(step===1){
    document.querySelector(".door").classList.add("shake")
    setTimeout(()=>{step=2;render()},300)
  }
  else if(step===2){
    step=3
    render()
  }
  else{
    step=1
    render()
  }
}

function render(){
  if(step===1){
    stage.innerHTML=`
      <div class="scene">
        <div class="comic">Knock knock</div>
        <div class="door">
          <div class="panel"></div>
          <div class="knob"></div>
        </div>
      </div>`
    btn.textContent="Who‚Äôs there"
  }

  else if(step===2){
    stage.innerHTML=`
      <div class="scene">
        <div class="comic">Valen</div>
        <div class="door open">
          <div class="panel"></div>
          <div class="knob"></div>
        </div>
      </div>`
    btn.textContent="Valen who"
  }

  else{
    stage.innerHTML=`
      <div class="scene">
        <div class="bouquet">üíê</div>
        <div class="comic">Happy Valentine‚Äôs Day üíñ</div>
      </div>`
    btn.textContent="Replay"
  }
}
</script>
</body>
</html>
