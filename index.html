<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Knock Knock üíñ</title>

<style>
:root{
  --pink:#ff4d88;
  --gold:#ffcc66;
  --bg1:#0b0b14;
  --bg2:#1a0f2e;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial;
  background:
    radial-gradient(900px 500px at 20% 10%, rgba(255,77,136,.25), transparent 55%),
    radial-gradient(700px 500px at 80% 20%, rgba(255,204,102,.18), transparent 55%),
    linear-gradient(160deg,var(--bg1),var(--bg2));
  color:white;
  overflow:hidden;
}

.card{
  width:92%;
  max-width:420px;
  background:rgba(255,255,255,.08);
  border-radius:24px;
  padding:22px;
  text-align:center;
  box-shadow:0 25px 80px rgba(0,0,0,.55);
  backdrop-filter:blur(10px);
  position:relative;
}

.scene{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:16px;
  min-height:300px;
}

.comic{
  background:rgba(255,255,255,.14);
  padding:12px 18px;
  border-radius:18px;
  font-weight:900;
  transform:rotate(-2deg);
  animation:pop .35s ease;
  position:relative;
}

.comic::after{
  content:"";
  position:absolute;
  left:30px;
  bottom:-12px;
  border:12px solid transparent;
  border-top-color:rgba(255,255,255,.14);
}

@keyframes pop{
  from{opacity:0;transform:translateY(8px) scale(.95) rotate(-2deg)}
  to{opacity:1;transform:none}
}

.door{
  width:200px;
  height:260px;
  border-radius:22px;
  background:
    linear-gradient(180deg,rgba(255,255,255,.18),rgba(255,255,255,.05));
  border:1px solid rgba(255,255,255,.25);
  position:relative;
  box-shadow:0 20px 50px rgba(0,0,0,.6);
  overflow:hidden;
}

.door::after{
  content:"";
  position:absolute;
  inset:14px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.18);
}

.knob{
  width:18px;
  height:18px;
  border-radius:50%;
  background:linear-gradient(180deg,var(--gold),var(--pink));
  position:absolute;
  right:18px;
  top:50%;
}

.shake{ animation:shake .45s ease }
@keyframes shake{
  0%{transform:none}
  20%{transform:translateX(-6px)}
  40%{transform:translateX(6px)}
  60%{transform:translateX(-4px)}
  80%{transform:translateX(4px)}
  100%{transform:none}
}

.open{
  animation:openDoor .7s ease forwards;
  transform-origin:left center;
}
@keyframes openDoor{
  to{transform:perspective(800px) rotateY(-75deg)}
}

button{
  margin-top:14px;
  padding:14px 18px;
  border-radius:16px;
  border:none;
  background:linear-gradient(135deg,var(--pink),var(--gold));
  font-weight:900;
  color:#1a0612;
  font-size:15px;
}

.reveal{
  animation:fadeUp .6s ease both;
}
@keyframes fadeUp{
  from{opacity:0;transform:translateY(14px)}
  to{opacity:1;transform:none}
}

.bouquet{
  font-size:64px;
  animation:float 1.6s ease-in-out infinite;
}
@keyframes float{
  50%{transform:translateY(-12px)}
}

.hearts span{
  position:absolute;
  font-size:20px;
  animation:heart 2.8s linear infinite;
}
@keyframes heart{
  from{transform:translateY(0);opacity:1}
  to{transform:translateY(-120vh);opacity:0}
}
</style>
</head>

<body>
<div class="card">
  <div id="stage"></div>
  <button id="btn"></button>
</div>

<script>
const stage=document.getElementById("stage")
const btn=document.getElementById("btn")
let step=1

render()

btn.onclick=()=>{
  if(step===1){
    document.querySelector(".door").classList.add("shake")
    setTimeout(()=>{step=2;render()},350)
  }
  else if(step===2){ step=3; render() }
  else if(step===3){ step=4; render() }
  else{ step=1; render() }
}

function render(){
  if(step===1){
    stage.innerHTML=`
      <div class="scene">
        <div class="comic">Knock knock</div>
        <div class="door"><div class="knob"></div></div>
      </div>`
    btn.textContent="Who‚Äôs there"
  }

  else if(step===2){
    stage.innerHTML=`
      <div class="scene">
        <div class="comic">Valen</div>
        <div class="door open"><div class="knob"></div></div>
      </div>`
    btn.textContent="Valen who"
  }

  else if(step===3){
    stage.innerHTML=`
      <div class="scene reveal">
        <div class="bouquet">üíê</div>
        <div class="comic">Happy Valentine‚Äôs Day üíñ</div>
      </div>`
    spawnHearts()
    btn.textContent="Replay"
  }
}

function spawnHearts(){
  for(let i=0;i<18;i++){
    const h=document.createElement("span")
    h.textContent="üíñ"
    h.style.left=Math.random()*100+"%"
    h.style.bottom="-40px"
    h.style.animationDelay=Math.random()*1.5+"s"
    h.className="hearts"
    document.body.appendChild(h)
    setTimeout(()=>h.remove(),3000)
  }
}
</script>
</body>
</html>
